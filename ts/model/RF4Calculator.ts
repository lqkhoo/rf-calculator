import IData = require('./IData');
// Children
import RF4Character = require('./RF4Character');
import AbstractCalculator = require('./AbstractCalculator');
import ICharacter = require('./ICharacter');

class RF4Calculator extends AbstractCalculator<RF4Character> {

    constructor(data: IData) {
        super(RF4Character, data);
    }

    public override OnExampleClickHandler = (): boolean => {
        const self = this;
        this.IsBusy(true);
        window.setTimeout(function() {
            const jsonString: string = '[{"id":23,"Accessories":[{"isActive":true,"ids":[636,824,936,920,825,91,613,613,675,665,900,933,971,932,30,921,922,923,924],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[613,821,94,675,0,0,0,675,665,0,753,753,753,753,753,753,753,753,753],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[675,929,824,665,0,0,0,665,0,0,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[665,984,891,897,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]}],"Armors":[{"isActive":true,"ids":[746,969,982,892,927,891,749,131,62,62,62,62,131,976,933,921,922,923,924],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[749,894,899,900,909,920,731,131,62,62,753,753,753,753,753,753,753,753,753],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[731,831,131,62,62,0,0,131,62,62,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]}],"Boots":[{"isActive":true,"ids":[729,899,878,897,891,894,725,725,717,724,906,933,30,932,971,921,922,923,924],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[725,894,899,900,909,861,717,717,724,0,753,753,753,753,753,753,753,753,753],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[717,964,969,982,907,817,724,724,0,0,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[724,851,938,831,814,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]}],"Headgears":[{"isActive":true,"ids":[704,971,971,971,891,91,706,131,62,62,62,62,131,900,933,921,922,923,924],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[706,984,878,979,929,920,680,131,62,62,753,753,753,753,753,753,753,753,753],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[680,831,131,62,62,0,0,131,62,62,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]}],"Shields":[{"isActive":true,"ids":[597,980,981,982,936,878,595,131,62,62,62,131,900,933,95,921,922,923,924],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[595,984,894,899,920,878,589,131,62,62,753,753,753,753,753,753,753,753,753],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[589,819,131,62,62,0,0,131,62,62,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]}],"Weapons":[{"isActive":true,"ids":[508,984,984,91,91,936,368,897,908,908,935,933,882,932,897,908,30,971,1019],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[368,910,984,925,926,927,362,897,908,908,753,753,753,753,753,753,753,753,753],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]},{"isActive":false,"ids":[362,819,897,908,908,0,0,897,908,908,0,0,0,0,0,0,0,0,0],"levels":[0,10,10,10,10,10,10,0,0,0,10,10,10,10,10,10,10,10,10]}]}]';
            let characters: ICharacter[] = self.Deserialize(jsonString);
            for(let i=0; i<characters.length; i++) {
                self.CharacterList.push(characters[i]);
            }
            self.DisplayLastCharacterSheet();
            self.IsBusy(false);
        }, 50);
        return true;
    }
}
export = RF4Calculator;